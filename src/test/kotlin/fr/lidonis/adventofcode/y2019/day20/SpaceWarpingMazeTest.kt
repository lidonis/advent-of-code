package fr.lidonis.adventofcode.y2019.day20

import org.assertj.core.api.Assertions
import org.junit.jupiter.api.Test

internal class SpaceWarpingMazeTest {

    @Test
    fun `donut example 1`() {
        val maze = SpaceWarpingMaze(
            """
                     A           
                     A           
              #######.#########  
              #######.........#  
              #######.#######.#  
              #######.#######.#  
              #######.#######.#  
              #####  B    ###.#  
            BC...##  C    ###.#  
              ##.##       ###.#  
              ##...DE  F  ###.#  
              #####    G  ###.#  
              #########.#####.#  
            DE..#######...###.#  
              #.#########.###.#  
            FG..#########.....#  
              ###########.#####  
                         Z       
                         Z       
            """.trimIndent()
        )
        Assertions.assertThat(maze.shortestPathDonut()).isEqualTo(23)
    }

    @Test
    fun `donut example 2`() {
        val maze = SpaceWarpingMaze(
            """
                               A               
                               A               
              #################.#############  
              #.#...#...................#.#.#  
              #.#.#.###.###.###.#########.#.#  
              #.#.#.......#...#.....#.#.#...#  
              #.#########.###.#####.#.#.###.#  
              #.............#.#.....#.......#  
              ###.###########.###.#####.#.#.#  
              #.....#        A   C    #.#.#.#  
              #######        S   P    #####.#  
              #.#...#                 #......VT
              #.#.#.#                 #.#####  
              #...#.#               YN....#.#  
              #.###.#                 #####.#  
            DI....#.#                 #.....#  
              #####.#                 #.###.#  
            ZZ......#               QG....#..AS
              ###.###                 #######  
            JO..#.#.#                 #.....#  
              #.#.#.#                 ###.#.#  
              #...#..DI             BU....#..LF
              #####.#                 #.#####  
            YN......#               VT..#....QG
              #.###.#                 #.###.#  
              #.#...#                 #.....#  
              ###.###    J L     J    #.#.###  
              #.....#    O F     P    #.#...#  
              #.###.#####.#.#####.#####.###.#  
              #...#.#.#...#.....#.....#.#...#  
              #.#####.###.###.#.#.#########.#  
              #...#.#.....#...#.#.#.#.....#.#  
              #.###.#####.###.###.#.#.#######  
              #.#.........#...#.............#  
              #########.###.###.#############  
                       B   J   C               
                       U   P   P               
            """.trimIndent()
        )
        Assertions.assertThat(maze.shortestPathDonut()).isEqualTo(58)
    }

    @Test
    fun `inception example 1`() {
        val maze = SpaceWarpingMaze(
            """
                     A           
                     A           
              #######.#########  
              #######.........#  
              #######.#######.#  
              #######.#######.#  
              #######.#######.#  
              #####  B    ###.#  
            BC...##  C    ###.#  
              ##.##       ###.#  
              ##...DE  F  ###.#  
              #####    G  ###.#  
              #########.#####.#  
            DE..#######...###.#  
              #.#########.###.#  
            FG..#########.....#  
              ###########.#####  
                         Z       
                         Z       
            """.trimIndent()
        )
        Assertions.assertThat(maze.shortestPathInception()).isEqualTo(26)
    }

    @Test
    fun `inception example 3`() {
        val maze = SpaceWarpingMaze(
            """
                         Z L X W       C                 
                         Z P Q B       K                 
              ###########.#.#.#.#######.###############  
              #...#.......#.#.......#.#.......#.#.#...#  
              ###.#.#.#.#.#.#.#.###.#.#.#######.#.#.###  
              #.#...#.#.#...#.#.#...#...#...#.#.......#  
              #.###.#######.###.###.#.###.###.#.#######  
              #...#.......#.#...#...#.............#...#  
              #.#########.#######.#.#######.#######.###  
              #...#.#    F       R I       Z    #.#.#.#  
              #.###.#    D       E C       H    #.#.#.#  
              #.#...#                           #...#.#  
              #.###.#                           #.###.#  
              #.#....OA                       WB..#.#..ZH
              #.###.#                           #.#.#.#  
            CJ......#                           #.....#  
              #######                           #######  
              #.#....CK                         #......IC
              #.###.#                           #.###.#  
              #.....#                           #...#.#  
              ###.###                           #.#.#.#  
            XF....#.#                         RF..#.#.#  
              #####.#                           #######  
              #......CJ                       NM..#...#  
              ###.#.#                           #.###.#  
            RE....#.#                           #......RF
              ###.###        X   X       L      #.#.#.#  
              #.....#        F   Q       P      #.#.#.#  
              ###.###########.###.#######.#########.###  
              #.....#...#.....#.......#...#.....#.#...#  
              #####.#.###.#######.#######.###.###.#.#.#  
              #.......#.......#.#.#.#.#...#...#...#.#.#  
              #####.###.#####.#.#.#.#.###.###.#.###.###  
              #.......#.....#.#...#...............#...#  
              #############.#.#.###.###################  
                           A O F   N                     
                           A A D   M                     
            """.trimIndent()
        )
        Assertions.assertThat(maze.shortestPathInception()).isEqualTo(396)
    }
}
